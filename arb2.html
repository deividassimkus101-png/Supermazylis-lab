<!DOCTYPE html>
<html lang="lt">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>2-baigÄiÅ³ arbitraÅ¾as</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <h1>ğŸ§® 2-baigÄiÅ³ arbitraÅ¾as</h1>

    <!-- Greitas Ä¯klijavimas -->
    <div class="card" style="margin-bottom:16px">
      <label for="paste" class="lbl">Greitas Ä¯klijavimas</label>
      <textarea id="paste" rows="3" placeholder="pvz.: Komanda A @1.95, Komanda B @2.05"></textarea>
      <button class="btn btn-blue" type="button" onclick="quickParse()">IÅ¡traukti skaiÄius</button>
      <small>AutomatiÅ¡kai suras koeficientus iÅ¡ teksto.</small>
    </div>

    <!-- Forma -->
    <div class="card">
      <label class="lbl">Koeficientas 1</label>
      <input id="odd1" type="number" step="0.01">

      <label class="lbl">Koeficientas 2</label>
      <input id="odd2" type="number" step="0.01">

      <label class="lbl">Bankrolas (â‚¬)</label>
      <input id="bank" type="number" value="100">

      <button class="btn btn-green" onclick="calc()">SkaiÄiuoti</button>
    </div>

    <div id="result" class="result"></div>
  </div>

  <script>
  function quickParse(){
    const t = document.getElementById('paste').value;
    const odds = [];
    (t.match(/(\d+[.,]?\d*)/g) || []).forEach(s=>{
      odds.push(parseFloat(s.replace(',','.')));
    });

    if(odds.length>=2){
      document.getElementById('odd1').value = odds[0];
      document.getElementById('odd2').value = odds[1];
      alert(`Rasta: ${odds[0]} ir ${odds[1]}`);
    } else {
      alert("âŒ Nerasta pakankamai skaiÄiÅ³.");
    }
  }

  function calc(){
    const o1 = parseFloat(document.getElementById('odd1').value);
    const o2 = parseFloat(document.getElementById('odd2').value);
    const bank = parseFloat(document.getElementById('bank').value);

    if(!o1 || !o2 || !bank){
      document.getElementById('result').innerText = "âŒ UÅ¾pildyk visus laukus.";
      return;
    }

    const stake1 = bank / (1 + (o1/o2));
    const stake2 = bank - stake1;
    const profit1 = stake1*o1 - bank;
    const profit2 = stake2*o2 - bank;

    document.getElementById('result').innerHTML = `
      <p>ğŸ’¸ Statymas 1: â‚¬${stake1.toFixed(2)}</p>
      <p>ğŸ’¸ Statymas 2: â‚¬${stake2.toFixed(2)}</p>
      <p>ğŸ“ˆ Pelnas jei laimi 1: â‚¬${profit1.toFixed(2)}</p>
      <p>ğŸ“ˆ Pelnas jei laimi 2: â‚¬${profit2.toFixed(2)}</p>
    `;
  }
  </script>
</body>
</html>
